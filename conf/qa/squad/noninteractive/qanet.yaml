parent_config: './conf/qa/squad/abstract_squad.yaml'
seed: 1337

repr_dim: 256
dropout: 0.2
with_wiq: False
num_interactive: 0

reader: 'non_interactive_qa_reader'
name: 'noninteractive_qanet'


encoder_block: &encoder_block
  - input: 'text'
    module: 'positional_encoding'

  - input: 'text'
    module: 'conv_separable'
    conv_width: 7
    num_layers: 4
    residual: True
    layer_norm: True

  - input: 'text'
    output: 'text_self'
    module: 'dense'
    repr_dim: 32
    activation: 'tanh'
    layer_norm: True

  - input: 'text_self'
    module: 'self_attn'
    attn_type: 'dot'
    repr_dim: 32
    scaled: True
    num_attn_heads: 8
    key_value_attn: True
    layer_norm: True

  - input: 'text_self'
    module: 'dense'
    activation: 'relu'

  - input: ['text', 'text_self']
    output: 'text'
    module: 'add'

  - input: 'text'
    module: 'dense'
    activation: 'tanh'
    layer_norm: True


encoder:
  - module: 'repeat'
    num: 1
    reuse: False
    encoder: *encoder_block

